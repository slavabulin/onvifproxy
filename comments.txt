Сделаны:
- hello/bye
- ws-disco
- стыковка с Тайфуном (так себе, надо вылизывать, но значения при запросе возвращает и onvif-клиенту выдает)
- Подцеплен интерфейс IMedia 
- Добавлен вторй endpoint, который обрабатывает запросы к интерфейсу IMedia,  в конфиге в разделе Media поле XAddr изменено на http://172.16.38.1:8000/onvif/media_service - адрес второго endpoint'а (первый обрабатывает запросы к IDevice и висит на адресе http://172.16.38.1:8000/onvif/device_service)
- циклы while (2 из 3) заменены, оставшийся не работет постоянно
- переделать общение между TyphoonCom  и основным процессом с флагов на эвенты (?завести таймер для подачи эвента дисконнекта и эвент коннекта вместо флага?)
- в трафике к тайфуну дохуищи нулевых посылок, идущих от 
private static void Process(object ipaddr) - stream.WriteByte(0); - как обойтись без них?(полностью переделан Typhoon.Process)
- чё та там не а-яйяй с Probe/ProbeMatch (из-за того, что тайфун занимает нужный порт) сделано в версии Typhoon 232.17beta
- третья очередь для запросов  ОТ тайфуна (см. TyphoonCom.CommandParseEx)
- переделать очередь ответов в Collection<TyphoonMessage> и искать в ней по номеру запроса(соответсвенно изменена структура TyphoonMessage)
- переделать нумерование запросов к тайфуну с рандома на счетчик (или придумать что-то ещё)
- присобачить DiscoveryClient для нахождения онвифовских камер и отдачи их тайфуну(см. wf_wcf_samples - AsyncFind)
- выкинуть из списка отображаемых сервисов самого себя - либо разобраться, может всё-таки может подчепиться к  себе самому???????
- вчерне соединился с тайфуном и отдал ему адрес онвифовских камер.
- посмотреть, что там с завершением потоков, при попытке коннекта к тайфуну(неудачной) кол-во потоков непрерывно растет - после подключения к тайфуну кол-во потоков не падает - убрал лишнее выделения потока для Connect(); - вроде стабилизировалось
-??? при реконнекте таймеры коннекшена и зонда становятся null - перестал их нулить в TyphoonComStop();
- БЛЯ, доделать уже эту хуйню!не пашет ребут - не инитится заново связь с тайфуном(два варианта решения, постоянно слать ивенты или дисэйблить и занов осоздавать TyphoonCom) - на большрй машине вроде пашет, на рабочей машине были взбрыки - возможно из-за растущего кол-ва потоков(см. выше) 
- создавать клиента NVTClient не при каждом вызове (долго ждать ответа каждый раз), а один раз (или нет????) -  или создать их для всех полученых NVT(коллекция заранее созданных клиентов может быть в пару сотен устройств)? - создаю коллекцию при выборе из списка - в итоге коллекция не на все ответившие девайсы, а только на те, которые выбирали.
- выдать картинку от тайфуна
- GetProfiles не работает ParseMem - похоже что-то с кодировками???? - была запутка с кодировками - на будущее - все данные от Тайфуна идут в CP1251
- DISCOVERY-1-1-7 DEVICE SCOPES CONFIGURATION - трёт конфиг, видимо он где-то его делает нулл
- при долгом ожидании тайфуна вылет (видимо по необработанному эксепшену) - вроде больше нет
- изменен порт на 80 с 8000, причина - перечитал спеку

- Стыковка с интеллектом - не распознаю GetCapabilities - "The SOAP action specified on the message, '', does not match the HTTP SOAP Action, 'http://www.onvif.org/ver10/device/wsdl/GetCapabilities'." (похоже проблема в не соответсвующих друг другу версиях соап-протокола - посмотреть спеку, есть ли явное указание на версию/ после замены биндинга с всхттп на басикхттп(а значит и замены соап 1,2 на соап 1,1) - сервис выкидывает ошибку хттп 300 (несоответствие content-type, text/... а получает soap/xml)на любой запрос, похоже не наш вариант) SOAPAction заголовок это признак соап1,1  // в заголовке сообщения от ITV content-type соответствует соап1,2 а SOAPAction это признак соап1,1. Заковыка в заголовке HTTP, т.к. xml из сообщения ITV переданый другим софтом (датасендером) ошибок не вызывает. Как изменить заголовок HTTP пока неясно, видимо через кастом-биндинги. Запрос от ITV до DispatchOperationSelector не доходит. Неа, дело не в этом, OvifManager от Synesis тоже дает 500ю ошибку, а в заголовке у него SOAPAction нет. Точняк дело в Contetnt-type action. *** WsHttpBinding замене на CustomBinding на основе basicHttpBinding но без WS-Addressing\а, баг остался только в случае если в запросе одновременно включены WS-Addressing и нет параметра action в Content-type HTTP заголовка. 
- Стыковка с Интеллектом - сделано GetVideoSources - в Интеллекте получена картинка от Тайфуна.

-подчеплен интерфейсы дял событий(NotificationProducer и EventPortType) для BasicNotification
- допилить выдачу видео под синезис!(профили и снепшоты)
- RenewRequest 
- basic notification вчерне сделано
- ParseTermTime
- сделано получение ип при дхцп
- basic notification вроде done (проходит тесттул)
- изменения в config.xml - при изменении адреса в <IPAddr> адреса сервисов меняются автоматически
- фильтры в basic notification(надо допилить при стыковке)
- pull-point notification(надо допилить при стыковке)
- запилить WS-Security UserNameToken для аутентификации пользователей
....


ToDo:

- EventStorage.storage - сделан collection, переделать в ConcurentCollection
- перенести логер из TyphoonCom в Program
- механизм разбора очереди ответов от тайфуна - какая-то херота, надоть переделать бы  (не ждет ответа, а сразу проверяет очередь ответов и выходит)
- в Notify херота какая-то с namespace наговнокожена

- !!!!минимизировать инфу в ини-файле,(см. Capabilities) 
- создавать ини-файл в случае его отсутствия
- читать ини-файл только при отсутствии параметров при запуске.

- DeviceManagement  - Capabilities - сделать ровно и однообразно - сейчас часть данных берется из конфига, часть от тайфуна, часть забивается заглушкой.


- Бля!!!неправильно обрабатываются пришедшие команды, придумать механизм ожидания ответов от тайфуна - на самом деле не отрабатывает GetCapabilities - не дожидается ответа от тайфуна - проверка наличия отета происходит сразу, если в ответе тайфуна будет заминка перед ответом - прокся может ответ неуспеть увидеть
- сделать класс команд для тайфуна(????) - нужно ли?
- Fault Messages(см. WF_WCF_Samples\WCF\Basic\Contract\Service\Faults\CS\service\)
- а непеределать ли PacketParseEx, выделять память динамически?
?- хуйня с дискавери - отражает не все ответы, чего-то там в ответах не того - а вроде не отражает только косые ответы от техаса - может так и надо?
- gateway? - вродек негде взять, в структуре такого нет?